<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Number Stepper</title>
    <link rel="stylesheet" href="./dist/css/all.css" />
    <style>
        /* Demo page styles */
        body {
            font-family: sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 2em;
            line-height: 1.6;
        }

        h1, h2 {
            color: #333;
        }

        h2 {
            margin-top: 2em;
            border-bottom: 2px solid #eee;
            padding-bottom: 0.5em;
        }

        .stepper-container {
            margin-bottom: 1.5em;
            max-width: 300px;
        }

        .label {
            margin-bottom: 0.25em;
            font-size: 0.9em;
            color: #333;
        }
    </style>
</head>

<body>
    <h1>HPV Number Stepper Demo</h1>
    
    <h2>Original Number Stepper</h2>
    
    <div class="label">Basic Editable Number Stepper with Percentage Formatting and Custom Layout</div>
    <div id="stepper-container-root"></div>
    
    <div class="label">Non-Editable Number Stepper with Temperature Formatting and Display-First Layout</div>
    <div id="temperature-stepper"></div>
    
    <div class="label">Number Stepper with HTML Rendering and Inline Percentage Display</div>
    <div id="number-html-stepper"></div>
    
    <h2>New List Stepper</h2>
    
    <div class="label">Basic List Stepper for Country Selection with ID Labels</div>
    <div id="country-stepper"></div>
    
    <div class="label">List Stepper with Custom Rendered Product Names and Prices</div>
    <div id="product-stepper"></div>
    
    <div class="label">List Stepper with Display-First Layout for Color Selection</div>
    <div id="color-stepper"></div>

    <div class="label">Editable List Stepper with Emoji Icons for Fruit Selection</div>
    <div id="editable-fruit-stepper"></div>
    <h2>HTML Rendering Examples</h2>
    
    <div class="label">List Stepper with HTML Rendering Including Flags</div>
    <div id="country-html-stepper"></div>
    
    <div class="label">List Stepper with HTML Rendering Using Colored Dots for Images</div>
    <div id="product-html-stepper"></div>

    <div class="label">List Stepper Handling Tall Multi-Line Content in HTML Rendering</div>
    <div id="tall-content-stepper"></div>

    <div class="label">Number Stepper with Disabled Content Selection and HTML Rendering</div>
    <div id="no-select-stepper"></div>

    <div class="label">Editable Number Stepper with Disabled Content Selection</div>
    <div id="no-select-input-stepper"></div>

    <div class="label">List Stepper with HTML Rendering and Disabled Content Selection</div>
    <div id="no-select-list-html-stepper"></div>

    <h2>Live Values</h2>
    <div id="output" style="background: #f0f0f0; padding: 1em; margin: 1em 0; border-radius: 5px;">
        <div>Sales tax: <span id="sales-value">-</span></div>
        <div>Temperature: <span id="temp-value">-</span></div>
        <div>Country: <span id="country-value">-</span></div>
        <div>Product: <span id="product-value">-</span></div>
        <div>Color: <span id="color-value">-</span></div>
        <div>Rich Country: <span id="country-html-value">-</span></div>
        <div>HTML Product: <span id="product-html-value">-</span></div>
        <div>Number (HTML): <span id="number-html-value">-</span></div>
        <div>Tall Content: <span id="tall-content-value">-</span></div>
        <div>No Selection: <span id="no-select-value">-</span></div>
        <div>No Select Input: <span id="no-select-input-value">-</span></div>
        <div>No Select List HTML: <span id="no-select-list-html-value">-</span></div>
        <div>Editable Fruit: <span id="editable-fruit-value">-</span></div>
    </div>

    <script src="./dist/js/all.min.js"></script>
    <script>
        // Example usage - Original Number Stepper
        const root = document.getElementById('stepper-container-root');
        const stepper = new HpvNumberStepper({
            initialValue: 5,
            min: 0,
            max: 50,
            stepSize: 0.5,
            editable: true,
            onCreate: (val, instance) => console.log('Stepper created with:', val, instance),
            onChange: (val, instance) => {
                console.log('Value changed:', val, instance);
                document.getElementById('sales-value').textContent = `${val.toFixed(1)}%`;
            },
            renderValue: (val, instance) => `${val.toFixed(1)} %`,
            layout: [ 'minus', 'display', 'plus' ] // Change element order
        });
        stepper.mountTo(root);
        
        // Temperature stepper
        const tempStepper = new HpvNumberStepper({
            initialValue: 20,
            min: -50,
            max: 100,
            stepSize: 1,
            editable: false,
            onChange: (val) => {
                document.getElementById('temp-value').textContent = `${val}°C`;
            },
            renderValue: (val) => `${val}°C`,
            layout: ['display', 'minus', 'plus'] // Input first
        });
        tempStepper.mountTo(document.getElementById('temperature-stepper'));
        
        // Number stepper with HTML rendering
        const numberHtmlStepper = new HpvNumberStepper({
            initialValue: 42.5,
            min: 0,
            max: 100,
            stepSize: 0.5,
            renderAsHtml: true,
            renderValue: (val) => `
                <div style="display:flex;align-items:baseline;gap:6px;justify-content: center;">
                    <strong style="font-size:1.1em;">${val.toFixed(1)}</strong>
                    <small style="color:#666">%</small>
                </div>
            `,
            onChange: (val) => {
                // update live area as HTML-safe text
                document.getElementById('number-html-value').textContent = `${val.toFixed(1)}%`;
            },
            layout: ['minus', 'display', 'plus']
        });
        numberHtmlStepper.mountTo(document.getElementById('number-html-stepper'));
        
        // Country list stepper
        const countries = [
            { id: null, label: 'China' },
            { id: 'us', label: 'United States' },
            { id: 'ca', label: 'Canada' },
            { id: 'mx', label: 'Mexico' },
            { id: 'br', label: 'Brazil' },
            { id: 'ar', label: 'Argentina' },
            { id: 'fr', label: 'France' },
            { id: 'de', label: 'Germany' },
            { id: 'jp', label: 'Japan' },
            { id: 'au', label: 'Australia' }
        ];
        
        const countryStepper = new HpvListStepper({
            items: countries,
            initialItem: 'br',
            onChange: (item, index) => {
                console.log('Country selected:', item, index);
                document.getElementById('country-value').textContent = `${item.label} (${item.id})`;
            },
            layout: ['minus', 'display', 'plus']
        });
        countryStepper.mountTo(document.getElementById('country-stepper'));
        
        // Product stepper with custom rendering
        const products = [
            { id: 'laptop', label: 'Gaming Laptop', price: 1299.99 },
            { id: 'phone', label: 'Smartphone', price: 699.99 },
            { id: 'tablet', label: 'Tablet Pro', price: 899.99 },
            { id: 'watch', label: 'Smart Watch', price: 399.99 },
            { id: 'headphones', label: 'Wireless Headphones', price: 249.99 }
        ];
        
        const productStepper = new HpvListStepper({
            items: products,
            initialItem: products[1],
            renderValue: (item, index) => `${item.label} - $${item.price}`,
            onChange: (item, index) => {
                console.log('Product selected:', item, index);
                document.getElementById('product-value').textContent = `${item.label} ($${item.price})`;
            },
            layout: ['minus', 'display', 'plus']
        });

        productStepper.mountTo(document.getElementById('product-stepper'));
        
        // Color stepper with input-first layout
        const colors = [
            { id: 'red', label: 'Red' },
            { id: 'blue', label: 'Blue' },
            { id: 'green', label: 'Green' },
            { id: 'yellow', label: 'Yellow' },
            { id: 'purple', label: 'Purple' },
            { id: 'orange', label: 'Orange' }
        ];
        
        const colorStepper = new HpvListStepper({
            items: colors,
            initialItem: colors[2], // Start with green
            onChange: (item, index) => {
                console.log('Color selected:', item, index);
                document.getElementById('color-value').textContent = item.label;
                document.getElementById('color-value').style.color = item.id;
            },
            layout: ['display', 'minus', 'plus'] // Input first layout
        });
        colorStepper.mountTo(document.getElementById('color-stepper'));
 
        // Editable fruit stepper
        const fruits = [
            { id: 'apple', label: 'Apple', emoji: '🍎' },
            { id: 'banana', label: 'Banana', emoji: '🍌' },
            { id: 'orange', label: 'Orange', emoji: '🍊' },
            { id: 'grape', label: 'Grape', emoji: '🍇' },
            { id: 'strawberry', label: 'Strawberry', emoji: '🍓' }
        ];
 
        const editableFruitStepper = new HpvListStepper({
            items: fruits,
            initialItem: 'apple',
            editable: true,
            renderAsHtml: true,
            renderValue: (item) => `<span style="display:flex;gap:8px;"><span style="font-size:1.2em;">${item.emoji}</span>${item.label}</span>`,
            renderInputValue: (item) => `${item.label}`,
            onChange: (item, index) => {
                document.getElementById('editable-fruit-value').textContent = `${item.emoji} ${item.label}`;
            },
            layout: ['minus', 'display', 'plus']
        });
        editableFruitStepper.mountTo(document.getElementById('editable-fruit-stepper'));
        // HTML rendering examples
        const countriesWithFlags = [
            { id: 'us', label: 'United States', flag: '🇺🇸' },
            { id: 'ca', label: 'Canada', flag: '🇨🇦' },
            { id: 'mx', label: 'Mexico', flag: '🇲🇽' },
            { id: 'br', label: 'Brazil', flag: '🇧🇷' },
            { id: 'ar', label: 'Argentina', flag: '🇦🇷' },
            { id: 'fr', label: 'France', flag: '🇫🇷' },
            { id: 'de', label: 'Germany', flag: '🇩🇪' },
            { id: 'jp', label: 'Japan', flag: '🇯🇵' },
            { id: 'au', label: 'Australia', flag: '🇦🇺' }
        ];
        
        const countryHtmlStepper = new HpvListStepper({
            items: countriesWithFlags,
            initialItem: 'ca',
            renderAsHtml: true,
            renderValue: (item) => `<span style="display: flex; align-items: center; gap: 8px;"><span style="font-size: 1.2em;">${item.flag}</span><strong>${item.label}</strong></span>`,
            onChange: (item, index) => {
                console.log('HTML Country selected:', item, index);
                document.getElementById('country-html-value').textContent = `${item.label} ${item.flag}`;
            },
            layout: ['minus', 'display', 'plus']
        });
        countryHtmlStepper.mountTo(document.getElementById('country-html-stepper'));
        
        const productsWithImages = [
            { id: 'laptop', label: 'Gaming Laptop', price: 1299.99, color: '#4285f4' },
            { id: 'phone', label: 'Smartphone', price: 699.99, color: '#34a853' },
            { id: 'tablet', label: 'Tablet Pro', price: 899.99, color: '#fbbc04' },
            { id: 'watch', label: 'Smart Watch', price: 399.99, color: '#ea4335' },
            { id: 'headphones', label: 'Wireless Headphones', price: 249.99, color: '#9c27b0' }
        ];
        
        const productHtmlStepper = new HpvListStepper({
            items: productsWithImages,
            initialItem: productsWithImages[0],
            renderAsHtml: true,
            renderValue: (item) => `
                <div style="display: flex; align-items: center; gap: 10px;">
                    <div style="width: 20px; height: 20px; border-radius: 50%; background-color: ${item.color};"></div>
                    <div>
                        <div style="font-weight: bold; font-size: 0.9em;">${item.label}</div>
                        <div style="font-size: 0.8em; color: #666;">$${item.price}</div>
                    </div>
                </div>
            `,
            onChange: (item, index) => {
                console.log('HTML Product selected:', item, index);
                document.getElementById('product-html-value').innerHTML = `<span style="color: ${item.color};">${item.label}</span> ($${item.price})`;
            },
            layout: ['minus', 'display', 'plus']
        });
        productHtmlStepper.mountTo(document.getElementById('product-html-stepper'));

        // Tall content test
        const tallItems = [
            {
                id: 'item1',
                label: 'Multi-line Item',
                description: 'This is a very long description that will create tall content to test button height stretching behavior.'
            },
            {
                id: 'item2',
                label: 'Another Tall Item',
                description: 'Another item with multiple lines of text to demonstrate how buttons handle tall container content properly.'
            },
            {
                id: 'item3',
                label: 'Third Test Item',
                description: 'The third item in our test suite for verifying proper button height behavior with variable content heights.'
            }
        ];
        
        const tallContentStepper = new HpvListStepper({
            items: tallItems,
            initialItem: tallItems[0],
            renderAsHtml: true,
            renderValue: (item) => `
                <div style="padding: 8px 0;">
                    <div style="font-weight: bold; margin-bottom: 4px;">${item.label}</div>
                    <div style="font-size: 0.85em; color: #666; line-height: 1.3;">${item.description}</div>
                </div>
            `,
            onChange: (item, index) => {
                document.getElementById('tall-content-value').textContent = item.label;
            },
            layout: ['minus', 'display', 'plus']
        });
        tallContentStepper.mountTo(document.getElementById('tall-content-stepper'));

        // No selection stepper demo
        const noSelectStepper = new HpvNumberStepper({
            initialValue: 75,
            min: 0,
            max: 100,
            stepSize: 5,
            renderAsHtml: true,
            allowContentSelection: false,
            renderValue: (val) => `${val}%`,
            onChange: (val) => {
                document.getElementById('no-select-value').textContent = `${val}%`;
            },
            layout: ['minus', 'display', 'plus']
        });
        noSelectStepper.mountTo(document.getElementById('no-select-stepper'));

        // Number stepper input mode no selection demo (selection still allowed for editing)
        const noSelectInputStepper = new HpvNumberStepper({
            initialValue: 25,
            min: 0,
            max: 100,
            stepSize: 1,
            allowContentSelection: false,
            onChange: (val) => {
                document.getElementById('no-select-input-value').textContent = `${val}%`;
            },
            renderValue: (val) => `${val}%`,
            layout: ['minus', 'display', 'plus']
        });
        noSelectInputStepper.mountTo(document.getElementById('no-select-input-stepper'));

        // List stepper HTML mode no selection demo
        const noSelectListHtmlStepper = new HpvListStepper({
            items: countriesWithFlags,
            initialItem: 'us',
            renderAsHtml: true,
            allowContentSelection: false,
            renderValue: (item) => `<span style="display: flex; align-items: center; gap: 8px;"><span style="font-size: 1.2em;">${item.flag}</span><strong>${item.label}</strong></span>`,
            onChange: (item, index) => {
                document.getElementById('no-select-list-html-value').textContent = `${item.label} ${item.flag}`;
            },
            layout: ['minus', 'display', 'plus']
        });
        noSelectListHtmlStepper.mountTo(document.getElementById('no-select-list-html-stepper'));

        // Initialize display values
        document.getElementById('sales-value').textContent = '5.0%';
        document.getElementById('temp-value').textContent = '20°C';
        document.getElementById('country-value').textContent = 'Brazil (br)';
        document.getElementById('product-value').textContent = 'Smartphone ($699.99)';
        document.getElementById('color-value').textContent = 'Green';
        document.getElementById('color-value').style.color = 'green';
        document.getElementById('country-html-value').textContent = 'Canada 🇨🇦';
        document.getElementById('product-html-value').innerHTML = '<span style="color: #4285f4;">Gaming Laptop</span> ($1299.99)';
        document.getElementById('number-html-value').textContent = '42.5%';
        document.getElementById('tall-content-value').textContent = 'Multi-line Item';
        document.getElementById('no-select-value').textContent = '75%';
        document.getElementById('no-select-input-value').textContent = '25%';
        document.getElementById('no-select-list-html-value').textContent = 'United States 🇺🇸';
        document.getElementById('editable-fruit-value').textContent = '🍎 Apple';
 
        // Demo API methods
        console.log('=== API Demo ===');
        console.log('Country stepper selected item:', countryStepper.getSelectedItem());
        console.log('Product stepper value (rendered):', productStepper.getValue(true));
        console.log('Color stepper value (raw index):', colorStepper.getValue());
        
        // Test setting values programmatically after 3 seconds
        setTimeout(() => {
            console.log('=== Programmatic Updates ===');
            countryStepper.setSelectedItem({ id: 'jp', label: 'Japan' }); // Full item object
            productStepper.setSelectedItem(products[2]); // Full item object
            stepper.setValue(12.5); // Number stepper
            countryHtmlStepper.setSelectedItem({ id: 'de', label: 'Germany', flag: '🇩🇪' });
            productHtmlStepper.setSelectedItem(productsWithImages[3]);
        }, 3000);
    </script>

</body>

</html>